<!DOCTYPE html>
<html>
    <head>
        <title>Welcome! | BetterWrapper</title>
        <meta name="description" content="The website for BetterWrapper, a project that helps improve the errors Wrapper: Offline has.">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700">
        <link rel="icon" type="image/x-icon" href="ui/img/icon/favicon.ico">
        <link rel="stylesheet" href="ui/css/better-global.css">
        <link rel="stylesheet" href="ui/css/user.css">
        <script src="https://fireanimate-eb62d.firebaseapp.com/__/firebase/6.2.4/firebase-app.js"></script>
        <script src="https://fireanimate-eb62d.firebaseapp.com/__/firebase/6.2.4/firebase-auth.js"></script>
        <script src="https://fireanimate-eb62d.firebaseapp.com/__/firebase/init.js"></script>
        <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
        <script src="js/user.js"></script>
    </head>
    <body>
        <div class="header">
            <header>
                <img id="logo" src="ui/img/logo_better.png" alt="BetterWrapper">
                <div style="float: right">
                    <div id="is-guest">
                        <a class="button_small" onclick="showElement('signup-modal')">Sign Up</a>
                        <a class="button_small" onclick="showElement('login-modal')">Log In</a>
                    </div>
                    <div id="is-login" style="display: none;">
                        <div class="char_dropdown button_small">
                            <div>Your Account</div>
                            <menu>
                                <a href="/html/list.html">Your Videos</a>
                                <a href="javascript:;" id="logout-button" onclick="userLogout()">Log Out</a>
                            </menu>
                        </div>
                    </div>
				</div>
            </header>
        </div>
        <!-- modals. (Mostly for the account system and nothing else) -->
        <div id="login-modal" class="modal">
            <form class="modal-content" action="javascript:;" method="post" id="loginform">
                <div class="form-container" id="login-container">
                    <div class="imgcontainer">
                        <center><h1>Log In</h1></center>
                        <span class="close" onclick="hideElement('login-modal')" title="Close Modal">&times;</span>
                    </div>
                    <label for="email"><b>Email Address</b></label>
                    <input type="email" placeholder="Enter Email Address" name="email" required>
                    <label for="password"><b>Password</b></label>
                    <input type="password" placeholder="Enter Password" name="password" required>
                    <button class="modal-button" type="submit">Login</button>
                </div>
                <div class="form-container" id="email-verification-login" style="display: none;">
                    <div class="imgcontainer">
                        <center><h1>Email Address Verification</h1></center>
                        <span class="close" onclick="hideElement('login-modal')" title="Close Modal">&times;</span>
                    </div>
                    <center>
                        <p>Please verify your email address in order to use BetterWrapper</p><br><br>
                        <p class="error-message"></p>
                    </center>
                </div>
                <div class="form-container" style="background-color:#f1f1f1">
                    <button type="button" class="modal-button" onclick="hideElement('login-modal')" id="cancelbtn">Cancel</button>
                    <span class="password" id="psw">Forgot <a href="javascript:;" onclick="showElement('psw-reset-modal')">password?</a></span>
                </div>
            </form>
        </div>
        <div id="psw-reset-modal" class="modal">
            <form class="modal-content" action="javascript:;" method="post" id="pswresetform">
                <div class="imgcontainer">
                    <center><h1>Reset Your Password</h1></center>
                    <span class="close" onclick="hideElement('psw-reset-modal')" title="Close Modal">&times;</span>
                </div>
                <center><p>Please enter your email address in order to reset your password.</p></center>
                <div class="form-container">
                    <label for="email"><b>Email Address</b></label>
                    <input type="email" placeholder="Enter Email Address" name="email" required>
                    <button class="modal-button" type="submit">Reset Password</button>
                </div>
                <div class="form-container" style="background-color:#f1f1f1">
                    <button type="button" class="modal-button" onclick="hideElement('psw-reset-modal')" id="cancelbtn">Cancel</button>
                </div>
            </form>
        </div>
        <div id="signup-modal" class="modal">
            <form class="modal-content" action="javascript:;" id="signupform">
                <div class="form-container" id="signup-container">
                    <div class="imgcontainer">
                        <center><h1>Sign Up</h1></center>
                        <span class="close" onclick="hideElement('signup-modal')" title="Close Modal">&times;</span>
                    </div>
                    <center>
                        <p>Please fill in this form to create an account.</p><br><br>
                        <p id="error-message-signup"></p>
                    </center>
                    <label for="email"><b>Email Address</b></label>
                    <input type="email" placeholder="Enter Email Address" name="email" required>
          
                    <label for="password"><b>Password</b></label>
                    <input type="password" placeholder="Enter Password" name="password" required>
          
                    <label for="psw_repeat"><b>Repeat Password</b></label>
                    <input type="password" placeholder="Repeat Password" name="psw_repeat" required>
        
                    <button class="modal-button" type="submit">Sign Up</button>
                </div>
                <div class="form-container" id="email-verification-signup" style="display: none;">
                    <div class="imgcontainer">
                        <center><h1>Email Address Verification</h1></center>
                        <span class="close" onclick="hideElement('signup-modal')" title="Close Modal">&times;</span>
                    </div>
                    <center>
                        <p>Please verify your email address in order to use BetterWrapper</p><br><br>
                        <p id="error-message-verify"></p>
                    </center>
                </div>
                <div class="form-container" style="background-color:#f1f1f1">
                    <button type="button" class="modal-button" onclick="hideElement('signup-modal')" id="cancelbtn">Cancel</button>
                </div>
            </form>
        </div>
        <br>
        <h1 id="welcome">Welcome!</h1>
        <br>
        <h2>
            As you can probably see, BetterWrapper is currently in it's development stage right now. 
            we are currently nowhere near close to beta testing yet, 
            so this LVM clone is basicly very unstable at the monent.
        </h2>
        <br>
        <h3>For updates with BetterWrapper, you may join our <a href="https://discord.gg/2G8caKYmGr">Discord Server</a></h3>
    </body>
    <script>
        $("#signupform").submit(() => {
            $("#error-message-signup").css("color", "red").html("");
            $.getJSON(`/api/convertUrlQuery2JSON?${$('#signupform').serialize()}`, (d) => {
                if (d.password != d.psw_repeat) $("#error-message-signup").html("Your Password And Repeat Password Must Match.");
                else userSignup(d.email, d.password);
            });
        })
        $("#loginform").submit(() => {
            $("#error-message-login").css("color", "red").html("");
            $.getJSON(`/api/convertUrlQuery2JSON?${$('#loginform').serialize()}`, (d) => userLogin(d.email, d.password));
        });
    </script>
</html>
