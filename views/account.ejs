<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <link rel="dns-prefetch" href="//web.archive.org/web/20170102134752/https://d2qrjeyl4jwu9j.cloudfront.net/">
        <title>Account Settings - GoNexus</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="GoAnimate for Schools is a safe environment for students to fully express their creativity through video and a great place for educators to share educational videos with other educators worldwide.">
        <meta property="og:site_name" content="GoNexus">
        <meta property="fb:app_id" content="122508887813978">
        <meta name="google-site-verification" content="Vta3YTpj6Kx6u4p-EzeMArY0alNItkyUYYMvNM8seVI"/>
        <style>
            .nav-link {
                color: #4a5568;
            }
            .card {
                box-shadow: 0 1px 3px 0 rgba(0,0,0,.1), 0 1px 2px 0 rgba(0,0,0,.06);
            }
            .card {
                position: relative;
                display: flex;
                flex-direction: column;
                min-width: 0;
                word-wrap: break-word;
                background-color: #fff;
                background-clip: border-box;
                border: 0 solid rgba(0,0,0,.125);
                border-radius: .25rem;
            }
            .card-body {
                flex: 1 1 auto;
                min-height: 1px;
                padding: 1rem;
            }
            .gutters-sm {
                margin-right: -8px;
                margin-left: -8px;
            }
            .gutters-sm>.col, .gutters-sm>[class*=col-] {
                padding-right: 8px;
                padding-left: 8px;
            }
            .mb-3, .my-3 {
                margin-bottom: 1rem!important;
            }
            
            .bg-gray-300 {
                background-color: #e2e8f0;
            }
            .h-100 {
                height: 100%!important;
            }
            .shadow-none {
                box-shadow: none!important;
            }
            button.disabled {
                background-color: #4a5568;
                cursor: not-allowed;
            }
            @font-face {
                font-family: 'Lato';
                font-style: normal;
                font-weight: 400;
                src: local('Lato Regular'), local('Lato-Regular'), url(/ui/fonts/qIIYRU-oROkIk8vfvxw6QvesZW2xOQ-xsNqO47m55DA.woff) format('woff');
            }
            @font-face {
                font-family: 'Lato';
                font-style: normal;
                font-weight: 700;
                src: local('Lato Bold'), local('Lato-Bold'), url(/ui/fonts/qdgUG4U09HnJwhYI-uK18wLUuEpTyoUstqEm5AMlJo4.woff) format('woff');
            }
        </style>
        <%- include("includes/usercss.ejs") %>
        <link rel="stylesheet" href="/lvm_files/school/css/common_combined.css">
        <script>
            var srv_tz_os = -5, view_name = "school", user_cookie_name = "u_info_school";
            var user_country = "US";
        </script>
        <!--[if lt IE 9]>
            <script src="https://d2qrjeyl4jwu9j.cloudfront.net/static/766ffff01a7a3e3a/go/js/lib/html5shiv.js"></script>
        <![endif]-->
        <script src="/lvm_files/school/js/common_combined.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-scrollTo/2.1.3/jquery.scrollTo.js"></script>
        <script type="text/javascript" src="/lvm_files/go/po/goserver_js-en_US.json"></script>
        <script src="https://fireanimate-eb62d.firebaseapp.com/__/firebase/6.2.4/firebase-app.js"></script>
        <script src="https://fireanimate-eb62d.firebaseapp.com/__/firebase/6.2.4/firebase-auth.js"></script>
        <script src="https://fireanimate-eb62d.firebaseapp.com/__/firebase/init.js"></script>
        <script src="/js/user.js"></script>
        <script type="text/javascript">
            var I18N_LANG = 'en_US';
            var GT = new Gettext({'locale_data': json_locale_data});
        </script>
    </head>
    <body>
        <div class="modal" id="settingsUpdating">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Updating Settings...</h3>
                    </div>
                    <div class="modal-body">
                        Please wait while we update your settings.
                    </div>
                </div>
            </div>
        </div>
        <div class="modal" id="settingsLoading">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Loading Settings...</h3>
                    </div>
                    <div class="modal-body">
                        Please wait while we load your settings.
                    </div>
                </div>
            </div>
        </div>
        <div class="modal" id="accountDeletion">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Deleting Your Account...</h3>
                    </div>
                    <div class="modal-body">
                        This will take some time. it depends on how much stuff you have stored into your account.
                    </div>
                </div>
            </div>
        </div>
        <div class="modal" id="deleteAccount">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">
                            <span aria-hidden="true">&times;</span>
                            <span class="sr-only">Close</span>
                        </button>
                        <h4 class="modal-title">Delete Account</h4>
                    </div>
                    <div class="modal-body">
                        <p>Are you sure about this? if you delete your account, there is no turning back! please be careful about this.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-danger" onclick="deleteAccount()">Delete Account</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal" id="FTAccLinkage">
            <div class="modal-dialog">
                <form class="modal-content" action="javascript:;" id="ftacclinkageform">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" id="ftacclinkageclosebtn">
                            <span aria-hidden="true">&times;</span>
                            <span class="sr-only">Close</span>
                        </button>
                        <h4 class="modal-title">Link A FlashThemes Account</h4>
                    </div>
                    <center class="modal-body">
                        <p id="ftacclinkageerror" style="color: red;"></p><br>
                        <label for="ftpsw">FlashThemes Account Password</label><br>
                        <input id="ftpsw" type="password"/>
                    </center>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" id="ftacclinkageclosefooterbtn" data-dismiss="modal">Close</button>
                        <input type="submit" id="ftacclinkagebutton" class="btn btn-green" value="Link FlashThemes Account"/></button>
                    </div>
                </form>
            </div>
        </div>
        <%- include("includes/header.ejs", {
            isVideoList: true
        }) %>
        <div class="container">
            <nav aria-label="breadcrumb" class="main-breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item">
                        <a href="/">Home</a>
                    </li>
                    <li class="breadcrumb-item active" aria-current="page">Account Settings</li>
                </ol>
            </nav>
            <div class="row gutters-sm">
                <div class="col-md-4 d-none d-md-block">
                    <div class="card">
                        <div class="card-body">
                            <nav class="nav flex-column nav-pills nav-gap-y-1">
                                <a href="#profile" data-toggle="tab" class="nav-item nav-link has-icon nav-link-faded">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user mr-2">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="12" cy="7" r="4"></circle>
                                    </svg>Profile Info
                                </a><br>
                                <a href="#account" data-toggle="tab" class="nav-item nav-link has-icon nav-link-faded active">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-settings mr-2">
                                        <circle cx="12" cy="12" r="3"></circle>
                                        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                                    </svg>Account Settings
                                </a><br>
                                <a href="#api" data-toggle="tab" class="nav-item nav-link has-icon nav-link-faded">
                                    <svg height="24" width="24" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 511 511" xml:space="preserve">
                                        <g>
                                            <path d="M492.168,309.579l-17.626-10.177c2.96-14.723,4.458-29.466,4.458-43.902c0-14.646-1.474-29.403-4.384-43.946l17.552-10.134
    c5.436-3.138,9.325-8.206,10.949-14.269s0.791-12.396-2.348-17.832l-48-83.139c-3.139-5.436-8.206-9.325-14.269-10.949
    c-6.064-1.624-12.396-0.791-17.833,2.348l-17.566,10.142C380.912,68.2,354.798,53.092,327,43.692V23.5
    C327,10.542,316.458,0,303.5,0h-96C194.542,0,184,10.542,184,23.5v20.193c-27.65,9.362-53.728,24.49-75.999,44.088L90.332,77.579
    c-5.437-3.139-11.77-3.973-17.833-2.348c-6.063,1.625-11.13,5.513-14.269,10.949l-48,83.139
    c-3.139,5.436-3.972,11.769-2.348,17.832s5.513,11.131,10.949,14.269l17.626,10.177C33.499,226.32,32,241.063,32,255.5
    c0,14.644,1.474,29.401,4.384,43.945l-17.552,10.134c-11.222,6.479-15.08,20.879-8.602,32.102l48,83.139
    c6.479,11.221,20.879,15.08,32.102,8.601l17.565-10.142c22.19,19.521,48.303,34.629,76.103,44.03V487.5
    c0,12.958,10.542,23.5,23.5,23.5h96c12.958,0,23.5-10.542,23.5-23.5v-20.193c27.651-9.362,53.729-24.49,76-44.087l17.668,10.201
    c11.221,6.479,25.623,2.62,32.102-8.601l48-83.139C507.248,330.458,503.39,316.058,492.168,309.579z M487.779,334.181l-48,83.138
    c-2.343,4.06-7.552,5.455-11.611,3.111l-22.392-12.928c-2.845-1.643-6.43-1.242-8.842,0.989
    c-22.893,21.173-50.437,37.148-79.653,46.199c-3.14,0.973-5.281,3.877-5.281,7.164V487.5c0,4.687-3.813,8.5-8.5,8.5h-96
    c-4.687,0-8.5-3.813-8.5-8.5v-25.645c0-3.287-2.141-6.191-5.28-7.164c-29.396-9.107-56.974-25.062-79.755-46.139
    c-1.421-1.315-3.25-1.995-5.095-1.995c-1.286,0-2.579,0.33-3.748,1.005L82.832,420.43c-4.06,2.343-9.268,0.948-11.611-3.111
    l-48-83.138c-2.343-4.059-0.947-9.268,3.111-11.612l22.272-12.859c2.844-1.642,4.289-4.942,3.566-8.146
    C48.739,286.357,47,270.858,47,255.5c0-15.1,1.765-30.584,5.247-46.022c0.722-3.203-0.723-6.504-3.566-8.145L26.332,188.43
    c-1.966-1.135-3.372-2.968-3.96-5.161c-0.587-2.193-0.286-4.484,0.849-6.45l48-83.139c1.135-1.966,2.968-3.373,5.162-3.96
    c2.192-0.588,4.484-0.286,6.45,0.849l22.392,12.928c2.846,1.644,6.43,1.242,8.842-0.989c22.894-21.173,50.437-37.148,79.653-46.199
    c3.14-0.973,5.281-3.877,5.281-7.164V23.5c0-4.687,3.813-8.5,8.5-8.5h96c4.687,0,8.5,3.813,8.5,8.5v25.645
    c0,3.287,2.141,6.191,5.28,7.164c29.395,9.106,56.973,25.061,79.755,46.139c2.412,2.232,5.997,2.633,8.843,0.99l22.29-12.869
    c1.967-1.135,4.258-1.437,6.45-0.849c2.193,0.588,4.026,1.994,5.162,3.96l48,83.139c1.135,1.966,1.437,4.257,0.849,6.45
    c-0.588,2.193-1.994,4.026-3.96,5.161l-22.272,12.859c-2.844,1.642-4.289,4.943-3.566,8.146c3.431,15.206,5.17,30.704,5.17,46.065
    c0,15.1-1.765,30.584-5.247,46.021c-0.722,3.203,0.723,6.503,3.566,8.145l22.349,12.903
    C488.727,324.913,490.123,330.122,487.779,334.181z"/><path d="M255.5,104C171.962,104,104,171.963,104,255.5S171.962,407,255.5,407S407,339.037,407,255.5S339.038,104,255.5,104z
     M255.5,392C180.234,392,119,330.766,119,255.5S180.234,119,255.5,119S392,180.234,392,255.5S330.766,392,255.5,392z"/><path d="M283.5,216h-28c-4.142,0-7.5,3.358-7.5,7.5v64c0,4.142,3.358,7.5,7.5,7.5s7.5-3.358,7.5-7.5V271h20.5
    c15.164,0,27.5-12.336,27.5-27.5S298.664,216,283.5,216z M283.5,256H263v-25h20.5c6.893,0,12.5,5.607,12.5,12.5
    S290.393,256,283.5,256z"/><path d="M214.522,220.867c-1.098-2.927-3.896-4.867-7.022-4.867h-8c-3.126,0-5.925,1.939-7.022,4.867l-24,64
    c-1.455,3.878,0.511,8.201,4.389,9.656c3.878,1.455,8.201-0.511,9.656-4.389L186.697,279h33.605l4.175,11.133
    c1.129,3.011,3.987,4.869,7.023,4.869c0.875,0,1.765-0.154,2.632-0.479c3.878-1.454,5.844-5.778,4.389-9.656L214.522,220.867z
     M192.322,264l11.178-29.807L214.678,264H192.322z"/><path d="M327.5,216c-4.142,0-7.5,3.358-7.5,7.5v64c0,4.142,3.358,7.5,7.5,7.5s7.5-3.358,7.5-7.5v-64
    C335,219.358,331.642,216,327.5,216z"/><path d="M309.152,87.3c5.205,1.659,10.394,3.586,15.421,5.726c0.958,0.408,1.954,0.601,2.934,0.601c2.916,0,5.69-1.712,6.904-4.564
    c1.622-3.811-0.152-8.216-3.963-9.838c-5.458-2.323-11.09-4.415-16.742-6.216c-3.945-1.258-8.165,0.922-9.423,4.868
    C303.026,81.823,305.206,86.042,309.152,87.3z"/><path d="M100.45,339.904c-1.984-3.636-6.541-4.976-10.176-2.992c-3.636,1.984-4.976,6.54-2.992,10.176
    c3.112,5.704,6.557,11.315,10.239,16.677c1.454,2.117,3.801,3.255,6.189,3.255c1.463,0,2.941-0.427,4.239-1.318
    c3.415-2.345,4.282-7.014,1.937-10.428C106.493,350.332,103.318,345.161,100.45,339.904z"/><path d="M240.14,431.341c-40.189-3.463-78.337-20.879-107.416-49.041c-2.976-2.882-7.724-2.805-10.605,0.17
    c-2.881,2.976-2.806,7.724,0.17,10.605c31.55,30.555,72.947,49.452,116.563,53.21c0.219,0.019,0.436,0.028,0.652,0.028
    c3.851,0,7.127-2.949,7.464-6.856C247.323,435.331,244.266,431.697,240.14,431.341z"/><path d="M363.425,97.287c-3.42-2.337-8.087-1.459-10.424,1.96c-2.337,3.42-1.459,8.087,1.96,10.424
    c34.844,23.813,60.049,59.248,70.972,99.776c0.902,3.346,3.93,5.55,7.237,5.55c0.646,0,1.303-0.084,1.956-0.26
    c4-1.078,6.368-5.194,5.29-9.193C428.564,161.564,401.221,123.118,363.425,97.287z"/>
                                        </g>
                                    </svg>API Settings
                                </a>
                            </nav>
                        </div>
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="card">
                        <div class="card-body tab-content">
                            <div class="tab-pane" id="profile">
                                <h6>YOUR PROFILE INFORMATION</h6>
                                <hr>
                                <form action="javascript:;" id="profileform">
                                    <div class="form-group">
                                        <label for="displayName">Display Name</label>
                                        <input type="text" class="form-control" id="displayName" aria-describedby="displayNameHelp" placeholder="Enter your Display Name">
                                        <small id="displayNameHelp" class="form-text text-muted">Your name may appear around here where you are mentioned. You can change or remove it at any time.</small>
                                    </div>
                                    <div class="form-group small text-muted">
                                        All of the fields on this page are optional and can be deleted at any time, and by filling them out, you're giving us consent to share this data wherever your user profile appears.
                                    </div>
                                    <input type="submit" class="btn btn-primary" value="Update Profile"/>
                                </form>
                            </div>
                            <div class="tab-pane active" id="account">
                                <h6>ACCOUNT SETTINGS</h6>
                                <hr>
                                <form>
                                    <div class="form-group">
                                        <label class="d-block text-danger">Delete Account</label>
                                        <p class="text-muted font-size-sm">Once you delete your account, there is no going back. Please be certain.</p>
                                    </div>
                                    <a class="btn btn-danger" data-toggle="modal" data-target="#deleteAccount">Delete Account</a>
                                    <div class="divider"></div>
                                    <div id="linkFTAcc">
                                        <div class="form-group">
                                            <label class="d-blockr">Link FlashThemes Account</label>
                                            <p class="text-muted font-size-sm">By linking your flashthemes account, you will have two ways to sign in to your account. this method is recomeneded for anyone who wants to sign in using their flashthemes account because sometimes signing in with a flashthemes account without it linked can take a while.</p>
                                        </div>
                                        <a class="btn btn-green" id="linkFTAccBtn">Link FlashThemes Account</a>
                                    </div>
                                </form>
                            </div>
                            <div class="tab-pane" id="api">
                                <h6>API SETTINGS</h6>
                                <hr>
                                <form action="javascript:;" id="ttsapiform">
                                    <div class="form-group">
                                        <p class="d-block">API Type For The TTS (LVM Only)</p>
                                        <select id="ttsapitype" name="ttsapi">
                                            <option data-apiserver="https://www.tetyys.com/" value="Microsoft">Microsoft (https://www.tetyys.com/)</option>
                                            <option data-apiserver="https://www.nuance.com/" value="Nuance">Nuance (https://www.nuance.com/)</option>
                                            <option data-apiserver="https://www.cepstral.com/" value="Cepstral">Cepstral (https://www.cepstral.com/)</option>
                                            <option data-apiserver="https://www.voiceforge.com/" value="Voiceforge">Voiceforge (https://www.voiceforge.com/)</option>
                                            <option data-apiserver="https://www.ispeech.org/" value="Svox">Svox (https://www.ispeech.org/)</option>
                                            <option data-apiserver="https://www.readloud.net/" value="Readloud">Readloud (https://www.readloud.net/)</option>
                                        </select>
                                    </div>
                                    <input type="submit" class="btn btn-primary" value="Update TTS Api (LVM Only)"/>
                                </form>
                                <hr>
                                <form action="javascript:;" id="customcss">
                                    <div class="form-group">
                                        <p class="d-block">Custom CSS</p>
                                        <textarea style="height: 360px; width: 640px;" id="customcsstext"></textarea>
                                    </div>
                                    <input type="submit" class="btn btn-primary" value="Update Custom CSS"/>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            let processing = false;
            function deleteAccount() {
                $("#deleteAccount").modal('hide');
                $("#accountDeletion").modal({
                    keyboard: false,
                    backdrop: "static"
                });
                jQuery.post("/api/deleteAccount", {
                    uid: userData.uid || userData.id
                }, d => {
                    if (d.success) userLogout();
                    else {
                        $("#accountDeletion").modal('hide');
                        displayFeedback(1 + d.error);
                    }
                })
            }
            $("#ftacclinkageform").submit(() => {
                if (processing) return;
                $("#ftacclinkageerror").text("");
                $("#ftacclinkageclosebtn").hide();
                $("#ftacclinkageclosefooterbtn").hide();
                processing = true;
                const origText = $("#ftacclinkagebutton").val();
                $("#ftacclinkagebutton").val("Linking FlashThemes Account...");
                jQuery.post('/api/checkFTAcc', {
                    lc: "en_US",
                    returnto: "/",
                    email: userData.email,
                    password: jQuery("#ftpsw").val()
                }, d => {
                    const code = `${d.split("{")[0]}`;
                    switch (code) {
                        case '0': {
                            jQuery.post('/api/linkAccount', {
                                code: '0',
                                type: "FlashThemes",
                                uid: userData.uid,
                                password: jQuery("#ftpsw").val()
                            }, d => {
                                if (d.success) {
                                    $("#FTAccLinkage").modal('hide');
                                    displayFeedback(0 + "Success!");
                                    $("#linkFTAccBtn").removeClass("btn-green");
                                    $("#linkFTAccBtn").addClass("disabled");
                                    $("#linkFTAccBtn").click(() => location.href = 'javascript:;');
                                    $("#linkFTAccBtn").text("Already Linked");
                                } else {
                                    processing = false;
                                    $("#ftacclinkagebutton").val(origText);
                                    $("#ftacclinkageerror").text(d.error);
                                    $("#ftacclinkageclosebtn").show();
                                    $("#ftacclinkageclosefooterbtn").show();
                                }
                            });
                            break;
                        } case '1': {
                            const json = JSON.parse(d.split("1")[1]);
                            processing = false;
                            $("#ftacclinkagebutton").val(origText);
                            $("#ftacclinkageerror").text(json.errmsg);
                            $("#ftacclinkageclosebtn").show();
                            $("#ftacclinkageclosefooterbtn").show();
                            break;
                        }
                    }
                })
            })
            $("#settingsLoading").modal({
                keyboard: false,
                backdrop: "static"
            });
            function loadSettings(user) {
                jQuery.post('/api/fetchTTSApis', d => {
                    for (const i of d) {
                        jQuery("#ttsapitype").append(`<option data-apiserver="https://www.lazypy.ro/" value="${i}">${i} (https://www.lazypy.ro/)</option>`);
                    }
                    jQuery.post('/api/getAllUsers', d => {
                        const userInfo = d.find(i => i.id == user.uid || user.id);
                        if (userInfo.linkedFTAcc) {
                            $("#linkFTAccBtn").removeClass("btn-green");
                            $("#linkFTAccBtn").addClass("disabled");
                            $("#linkFTAccBtn").click(() => location.href = 'javascript:;');
                            $("#linkFTAccBtn").text("Already Linked");
                        } else if (userInfo.isFTAcc && !userInfo.linkedFTAcc) $("#linkFTAcc").hide();
                        else $("#linkFTAccBtn").click(() => $("#FTAccLinkage").modal({
                            keyboard: false,
                            backdrop: "static"
                        }));
                        $("#ttsapitype").find(`option[value='${userInfo.settings.api.ttstype.value}']`).prop("selected", true);
                        $("#customcsstext").val(userInfo.settings.api.customcss);
                        jQuery("#displayName").val(user.displayName || user.name);
                        $("#settingsLoading").modal('hide');
                    });
                })
            } 
            jQuery("#ttsapiform").submit(() => {
                $("#settingsUpdating").modal({
                    keyboard: false,
                    backdrop: "static"
                });
                const api = ($("#ttsapiform").serialize()).split("ttsapi=")[1];
                const apiserver = $("#ttsapitype").find(`option[value='${api}']`).data("apiserver");
                jQuery.post("/api/updateTTSApi", {
                    newapi: api,
                    newapiserver: apiserver,
                    uid: userData.id || userData.uid
                }, d => {
                    $("#settingsUpdating").modal('hide');
                    if (d.success) displayFeedback(0 + "Success!");
                    else displayFeedback(1 + d.error);
                });
            })
            jQuery("#customcss").submit(() => {
                $("#settingsUpdating").modal({
                    keyboard: false,
                    backdrop: "static"
                });
                jQuery.post("/api/updateCustomCSS", {
                    newcss: jQuery("#customcsstext").val(),
                    uid: userData.uid || userData.id
                }, d => {
                    $("#settingsUpdating").modal('hide');
                    if (d.success) displayFeedback(0 + "Success!");
                    else displayFeedback(1 + d.error);
                });
            })
        </script>
        <%- include("includes/footer.ejs") %>
        <div id="studio_container" style="display: none;">
            <div id="studio_holder"><!-- Full Screen Studio -->
                <div style="top: 50%; position: relative;">
                    This content requires the Adobe Flash Player 10.3. <a href="https://get.adobe.com/flashplayer/">Get Flash</a>
                </div>
            </div>
        </div>
    </body>
</html>